document.addEventListener("DOMContentLoaded",function(){document.getElementById("name").focus();let e=document.querySelector("form"),t=document.getElementById("name"),i=document.getElementById("email"),l=document.getElementById("zip"),n=document.getElementById("cvv"),s=document.getElementById("cc-num"),a=document.querySelector(".activities-hint.hint"),d=document.getElementById("activities"),o=document.getElementById("activities-cost"),c=document.querySelector(".credit-card-box"),y=document.getElementById("credit-card"),r=document.getElementById("payment"),v=document.getElementById("paypal"),u=document.getElementById("bitcoin"),b=d.querySelectorAll("input[type='checkbox']"),p=0;function m(){let e=document.querySelector("#activities legend .asterisk");e.innerHTML=""}function g(){var e=document.querySelector("#activities legend .asterisk");e.innerHTML='<img src="img/valid.svg" width="20" height="20" alt="valid">',e.prepend()}function h(e,t){let i=e.nextElementSibling;return i.textContent=t,i.style.display="block",!1}function E(){o.textContent=`Total: $${p}`}function f(e,t){let i=t.parentElement;e?(i.lastElementChild.style.display="none",i.classList.remove("not-valid")):(i.classList.add("not-valid"),i.lastElementChild.style.display="block")}function k(e,t){let i=t.parentElement;e?(i.parentElement.classList.add("valid"),i.classList.remove("not-valid"),i.lastElementChild.style.display="none"):(i.classList.add("not-valid"),i.parentElement.classList.remove("valid"),i.lastElementChild.style.display="block")}!function e(){let t=document.querySelectorAll("[type='checkbox']");for(let i=0;i<t.length;i++)t[i].addEventListener("focus",function(){this.parentElement.classList.add("focus")}),t[i].addEventListener("blur",function(){this.parentElement.classList.remove("focus")})}();let L=document.querySelector("#color"),I=document.querySelector("#design");function B(){for(let e=0;e<L.options.length;e++)L.options[e].disabled=!1;"heart js"===I.value?$(["tomato","steelblue","dimgrey"]):"js puns"===I.value?$(["cornflowerblue","darkslategrey","gold"]):L.setAttribute("disabled",!0)}function $(e){for(let t=0;t<L.options.length;t++){let i=L.options[t].value;L.options[t].hidden=!e.includes(i)}e.includes(L.value)||(L.selectedIndex=0)}L.addEventListener("change",function(){B()}),I.addEventListener("change",function(){L.removeAttribute("disabled"),B()}),B();let q=document.getElementById("title"),A=document.getElementById("other-job-role");A.style.display="none",q.addEventListener("change",function(e){"other"===e.target.value?A.style.display="block":A.style.display="none"}),v.style.display="none",u.style.display="none",r.addEventListener("change",function(){let e=r.value;"credit-card"===e?(v.style.display="none",u.style.display="none",y.style.display="block"):"paypal"===e?(v.style.display="block",v.style.visibility="visible",u.style.display="none",u.style.visibility="hidden",y.style.display="none"):"bitcoin"===e&&(v.style.visibility="hidden",v.style.display="none",u.style.display="block",u.style.visibility="visible",y.style.display="none")}),r.value="credit-card",d.addEventListener("change",e=>{if(b.forEach(e=>{e.addEventListener("change",function(){let t=this.checked,i=this.getAttribute("data-day-and-time");b.forEach(l=>{l!==e&&l.getAttribute("data-day-and-time")===i&&(l.disabled=t)})});for(let t=0;t<b.length;t++)b[t].addEventListener("focus",e=>{"checkbox"===e.target.type&&(b[t].parentElement.classList.add("focus"),S.style.display="inline-block",S.style.visibility="visible")}),b[t].addEventListener("blur",e=>{!isChecked===e.target.type&&(b[t].parentElement.classList.remove("focus"),S.style.display="inline-block",S.style.visibility="visible")})}),"checkbox"===e.target.type){let t=e.target.checked,i=parseInt(e.target.getAttribute("data-cost"),10);t?(p+=i,g(),S.style.display="inline-block",S.style.visibility="visible"):(m(),p-=i,S.style.display="inline-block",S.style.visibility="visible",h(o,"Please choose a Activity")),E()}p>0?(g(),a.style.display="none",a.style.visibility="hidden",S.style.display="inline-block",S.style.visibility="visible"):(function e(){let t=d.querySelector(".checkmark");t&&d.removeChild(t)}(),a.style.display="block",a.style.visibility="visible",h(o,"Please choose a Activity")),E()});let S=document.querySelector('button[type="submit"]');o.addEventListener("click",function(){actValid&&(S.style.display="inline-block",S.style.visibility="visible"),S.style.display="inline-block",S.style.visibility="visible",S.addEventListener("click",function(e){e.preventDefault()})}),e.addEventListener("submit",function(e){let a=!1,d=t.value.trim(),y=i.value.trim(),b=s.value.trim(),g=l.value.trim(),E=n.value.trim(),f=/^[A-Za-z]+ ?[a-zA-Z]*? ?[a-zA-Z]*?$/.test(d),L=/^[^@]+@[^@.]+\.[a-z]+$/i.test(y),I=p>0,B=/^\d{13,16}$/.test(b),$=/^\d{5}$/.test(g),q=/^\d{3}$/.test(E);return k(f,t),k(L,i),k(I,o),k(B,s),k($,l),k(q,n),k(v,v),k(u,u),I||(m(),h(o,"Please choose an activity"),a=!0),"credit-card"!==r.value||B&&$&&q||(e.preventDefault(),h(c,"Credit card number, zip code, and CVV are required."),a=!0),!!f&&!!L&&!a||(e.preventDefault(),!1)})});